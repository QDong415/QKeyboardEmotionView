# QKeyboardEmotionView

[![CI Status](https://img.shields.io/travis/285275534/QKeyboardEmotionView.svg?style=flat)](https://travis-ci.org/285275534/QKeyboardEmotionView)
[![Version](https://img.shields.io/cocoapods/v/QKeyboardEmotionView.svg?style=flat)](https://cocoapods.org/pods/QKeyboardEmotionView)
[![License](https://img.shields.io/cocoapods/l/QKeyboardEmotionView.svg?style=flat)](https://cocoapods.org/pods/QKeyboardEmotionView)
[![Platform](https://img.shields.io/cocoapods/p/QKeyboardEmotionView.svg?style=flat)](https://cocoapods.org/pods/QKeyboardEmotionView)

## ç®€ä»‹ï¼š

- ä»¿å¾®ä¿¡è¡¨æƒ…é”®ç›˜ï¼šå·¦->è¯­éŸ³æŒ‰é’®ï¼Œä¸­é—´->è¾“å…¥æ¡+æŒ‰ä½å½•éŸ³ï¼Œå³->è¡¨æƒ…æŒ‰é’®+æ‹“å±•æŒ‰é’®ï¼›æ¯ä¸ªæŒ‰é’®éƒ½å¯ä»¥éšè—æˆ–æ˜¾ç¤ºï¼›

- æœ‹å‹åœˆè¡¨æƒ…é”®ç›˜ï¼šå¹³æ—¶ä¸æ˜¾ç¤ºåº•éƒ¨è¾“å…¥æ ï¼Œç‚¹å‡»cellæ—¶å€™å†æ˜¾ç¤ºè¾“å…¥æ ï¼›

## åŸºç¡€åŠŸèƒ½ï¼š
- âœ…UIä»¿å¾®ä¿¡èŠå¤©åº•éƒ¨è¾“å…¥æ ï¼Œè¡¨æƒ…å’Œé”®ç›˜åˆ‡æ¢åŠ¨ç”»å¹³æ»‘ï¼Œå…¨ç¨‹60å¸§
- âœ…åº•éƒ¨è¾“å…¥æ å¯ä»¥åœ¨éœ€è¦æ—¶å€™å†æ˜¾ç¤ºï¼Œå¹³æ—¶éšè—ï¼ˆè¯„è®ºåˆ—è¡¨åœºæ™¯ æˆ– æœ‹å‹åœˆåœºæ™¯ æˆ– å‘å¾®åšåœºæ™¯ï¼‰
- âœ…è¡¨æƒ…é¢æ¿+æ‹“å±•é¢æ¿+åº•éƒ¨è¾“å…¥æ¡+è¯­éŸ³æ¡+UITextViewï¼Œå„ä¸ªæ¨¡å—éƒ½ä¸ä¼šäº’ç›¸importï¼Œå®Œç¾è§£è€¦
- âœ…æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥è‡ªå®šä¹‰ï¼Œä¸”éƒ½å¯ä»¥è‡ªç”±æ›¿æ¢ï¼Œä¹Ÿéƒ½å¯ä»¥æ‹‰å‡ºæ¥å½“åšç‹¬ç«‹çš„æ¨¡å—
- âœ…æ— å†…å­˜æ³„æ¼ã€‚ä»£ç æ¸…æ™°æ˜ç¡®ï¼Œæ³¨é‡Šé‡æ¯”ä»£ç éƒ½å¤š
- âœ…å…¼å®¹æ¨ªå±æ¨¡å¼ï¼Œå…¼å®¹é»‘å¤œæ¨¡å¼ï¼Œå…¼å®¹å¯¼èˆªæ åŠé€æ˜æˆ–ä¸é€æ˜
- âœ…å…¼å®¹Swiftï¼Œæä¾›Swift Demo
- âœ…è¾“å…¥æ¡†ç›´æ¥æ˜¾ç¤ºè¡¨æƒ…å›¾ç‰‡ğŸ˜Šï¼Œè€Œä¸æ˜¯[å¾®ç¬‘]

## è¿›é˜¶åŠŸèƒ½ï¼š
- âœ…æä¾›äº†æ–‡æœ¬"[å¾®ç¬‘]"è§£ææˆå›¾ç‰‡çš„æ–¹æ³•ï¼Œå¹¶åœ¨ios15ä»¥ä¸‹é‡‡ç”¨äº†ç¼“å­˜æœºåˆ¶ï¼ŒåŠ å¿«è§£æé€Ÿåº¦
- âœ…æä¾›äº†ios15ä¸‹ï¼Œåˆšè¿›å…¥èŠå¤©ç•Œé¢æ—¶å€™tableViewéœ€è¦æ»šåˆ°åº•éƒ¨å¯¼è‡´å¯¼èˆªæ é—ªç°çš„é—®é¢˜è§£å†³æ–¹æ¡ˆ
- âœ…è¾“å…¥æ–‡å­—å‘ç”Ÿæ¢è¡Œæ—¶å€™çš„åŠ¨ç”»å’Œâ€å‘é€â€œæ–‡å­—æ—¶å€™è¾“å…¥æ¡†åŠ¨ç”»åˆ†åˆ«é‡‡ç”¨ä¸åŒçš„æµç¨‹æœºåˆ¶ï¼Œåª²ç¾å¾®ä¿¡


### æ•ˆæœgifå›¾ï¼ˆGifå›¾æœ‰ç‚¹å¡ï¼Œå®é™…è¿è¡Œä¸€ç‚¹éƒ½ä¸å¡ï¼‰ï¼š
![](https://upload-images.jianshu.io/upload_images/26002059-6161708ed9a717bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![](https://upload-images.jianshu.io/upload_images/26002059-0a737b12d3b22686.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)![](https://upload-images.jianshu.io/upload_images/26002059-5edc0185947803a3.gif?imageMogr2/auto-orient/strip)![](https://upload-images.jianshu.io/upload_images/26002059-08b4b9cbaf7bea39.gif?imageMogr2/auto-orient/strip)

## Example

å…ˆåœ¨ç»ˆç«¯é‡Œæœç´¢ `pod search QKeyboardEmotionView` 

å¦‚æœæœç´¢ä¸åˆ°`2.2`ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ–°ä½ ç”µè„‘çš„podä»“åº“ï¼Œä»¥ä¸‹æ˜¯æ›´æ–°æ­¥éª¤ï¼š

1ã€å…ˆ `pod repo update`  æ›´æ–°ä½ æœ¬åœ°ç”µè„‘çš„podä»“åº“ã€‚ç„¶åå†æœç´¢ä¸€æ¬¡è¯•è¯•çœ‹

2ã€å¦‚æœè¿˜æ˜¯æœç´¢ä¸åˆ°ï¼Œæ‰§è¡Œ `rm ~/Library/Caches/CocoaPods/search_index.json` ã€‚å†æœç´¢å°±OKäº†

OC è°ƒç”¨æ–¹å¼ï¼š
```Objective-C
- (void)viewDidLoad {
    [super viewDidLoad];
    
    // åˆå§‹åŒ–è¾“å…¥å·¥å…·æ¡ï¼Œframeå¯ä»¥å…ˆè¿™æ ·ä¸´æ—¶è®¾ç½®ï¼Œä¸‹é¢çš„addBottomInputBarViewæ–¹æ³•ä¼šé‡ç½®è¾“å…¥æ¡frame
    // å¦‚æœä½ æƒ³è¦è‡ªå®šä¹‰è¾“å…¥æ¡Viewï¼Œè¯·å‚è€ƒTextFieldViewControllerä»£ç 
    _inputView = [[QInputBarView alloc] initWithFrame:CGRectMake(0,0,self.view.frame.size.width,UIInputBarViewMinHeight)];
    _inputView.dataSource = self;
    _inputView.delegate = self;
    
    //keyboardç®¡ç†ç±»ï¼Œç”¨æ¥ç®¡ç†é”®ç›˜ï¼Œå„å¤§é¢æ¿çš„åˆ‡æ¢
    _keyboardManager = [[QKeyboardManager alloc] initWithViewController:self];
    _keyboardManager.dataSource = self;
    //å› ä¸ºaddBottomInputBarViewæ–¹æ³•ä¼šç«‹åˆ»è§¦å‘delegateï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦å…ˆè®¾ç½®delegate
    _keyboardManager.delegate = self;
    //å°†è¾“å…¥æ¡Viewæ·»åŠ åˆ°ViewControllerï¼›YESè¡¨ç¤ºè¾“å…¥æ¡å¹³æ—¶ä¸æ˜¾ç¤ºï¼ˆæ¯”å¦‚æœ‹å‹åœˆï¼‰ï¼›NOè¡¨ç¤ºå¹³æ—¶ä¹Ÿæ˜¾ç¤ºï¼ˆæ¯”å¦‚èŠå¤©ï¼‰
    [_keyboardManager addBottomInputBarView:_inputView belowViewController:NO];
    
    //æŠŠè¾“å…¥æ¡†ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ç»‘å®šç»™ç®¡ç†ç±»
    [_keyboardManager bindTextView:_inputView.inputTextView];
}
```

Swift è°ƒç”¨æ–¹å¼ï¼š
```Swift
override func viewDidLoad() {
    super.viewDidLoad()
    
    // åˆå§‹åŒ–è¾“å…¥å·¥å…·æ¡ï¼Œframeå¯ä»¥å…ˆè¿™æ ·ä¸´æ—¶è®¾ç½®ï¼Œä¸‹é¢çš„addBottomInputBarViewæ–¹æ³•ä¼šé‡ç½®è¾“å…¥æ¡frame
    // å¦‚æœä½ æƒ³è¦è‡ªå®šä¹‰è¾“å…¥æ¡Viewï¼Œè¯·å‚è€ƒTextFieldViewControllerä»£ç 
    bottomInputView = QInputBarView(frame: CGRect.init(x: 0, y: 0, width: view.frame.size.width, height: CGFloat(UIInputBarViewMinHeight)))
    bottomInputView.delegate = self;
    
    //keyboardç®¡ç†ç±»ï¼Œç”¨æ¥ç®¡ç†é”®ç›˜ï¼Œå„å¤§é¢æ¿çš„åˆ‡æ¢
    keyboardManager = QKeyboardManager(viewController: self);
    keyboardManager.dataSource = self;
    //å› ä¸ºaddBottomInputBarViewæ–¹æ³•ä¼šç«‹åˆ»è§¦å‘delegateï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦å…ˆè®¾ç½®delegateï¼Œå†addBottomInputBarView
    keyboardManager.delegate = self;
    //å°†è¾“å…¥æ¡Viewæ·»åŠ åˆ°ViewControllerï¼›YESè¡¨ç¤ºè¾“å…¥æ¡å¹³æ—¶ä¸æ˜¾ç¤ºï¼ˆæ¯”å¦‚æœ‹å‹åœˆï¼‰ï¼›NOè¡¨ç¤ºå¹³æ—¶ä¹Ÿæ˜¾ç¤ºï¼ˆæ¯”å¦‚èŠå¤©ï¼‰
    keyboardManager.addBottomInputBarView(bottomInputView, belowViewController: belowViewController())
    
    //æŠŠè¾“å…¥æ¡†ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ç»‘å®šç»™ç®¡ç†ç±»
    keyboardManager.bindTextView(bottomInputView.inputTextView)
}
```

å‚æ•°é…ç½®
```Objective-C
@property (nonatomic, strong) UIColor *inputBarBackgroundColor;//è¾“å…¥æ¡é¢œè‰²ï¼Œé»˜è®¤ä»¿å¾®ä¿¡çš„ç°è‰²
@property (nonatomic, strong) UIColor *inputBarBoardColor;//è¾“å…¥æ¡ä¸Šæ–¹çš„çš„é‚£ä¸€æ¡ç»†æ¨ªçº¿çš„é¢œè‰²
@property (nonatomic, strong) UIColor *textColor;//è¾“å…¥æ textviewçš„é¢œè‰²
@property (nonatomic, strong) UIColor *textViewBackgroundColor;//è¾“å…¥æ textviewçš„èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ç™½è‰²
@property (nonatomic, strong) UIColor *recordButtonTitleColor;//æŒ‰ä½è¯´è¯æŒ‰é’®çš„å­—ä½“é¢œè‰²
@property (nonatomic, assign) BOOL voiceButtonHidden; //æ˜¯å¦éšè—å‘é€è¯­éŸ³ default is NO
@property (nonatomic, assign) BOOL extendButtonHidden; //æ˜¯å¦éšè—å‘é€å¤šåª’ä½“ default is NO
@property (nonatomic, assign) BOOL emotionButtonHidden; //æ˜¯å¦éšè—å‘é€è¡¨æƒ… default is NO

// ç‚¹å‡»é”®ç›˜å³ä¸‹è§’çš„æŒ‰é’®æ˜¯å¦æ˜¯å‘é€ï¼ŒNOè¡¨ç¤ºæ™®é€šå›è½¦æ¢è¡Œï¼ŒYESè¡¨ç¤ºå›è°ƒDelegateçš„Sendæ–¹æ³•
@property (nonatomic, assign) BOOL keyboardSendEnabled; // default is YES

//  è¾“å…¥æ TextViewçš„é«˜åº¦å‘é€å˜åŒ–çš„åŠ¨ç”»æ—¶é•¿ï¼ˆç§’ï¼‰
@property (nonatomic, assign) NSTimeInterval inputBarHeightChangeAnimationDuration; // default is 0.2
```

## Installation

```ruby
pod 'QKeyboardEmotionView'
```

## Authorï¼šDQ  

285275534, 285275534@qq.com

æˆ‘çš„å…¶ä»–å¼€æºåº“ï¼Œç»™ä¸ªStaré¼“åŠ±æˆ‘å†™æ›´å¤šå¥½åº“ï¼š

[IOS Swifté¡¹ç›®æ¡†æ¶æ¨¡ç‰ˆDemoï¼Œæ•™ç§‘ä¹¦çº§æ ‡å‡†ã€‚è½»é‡ã€è§„èŒƒã€æ˜“æ‡‚ã€æ˜“ç§»æ¤ã€è§£è€¦](https://github.com/QDong415/QSwift)

[IOS 1:1å®Œç¾ä»¿å¾®ä¿¡èŠå¤©è¡¨æƒ…é”®ç›˜](https://github.com/QDong415/QKeyboardEmotionView)

[IOS è‡ªå®šä¹‰UIAlertControllerï¼Œæ”¯æŒå¼¹å‡ºçº¦æŸXibViewã€å¼¹å‡ºViewController](https://github.com/QDong415/QUIAlertController)

[IOS å°è£…æ¯æ¡Cellæ ·å¼éƒ½ä¸ä¸€è‡´çš„UITableViewï¼Œå‘Šåˆ«å¤æ‚çš„UITableViewDataSource](https://github.com/QDong415/QTableKit)

[IOS ä»¿å¿«æ‰‹ç›´æ’­ç•Œé¢åŠ è½½ä¸­ï¼Œé¡¶éƒ¨çš„æ»šåŠ¨æ¡çŠ¶LoadingView](https://github.com/QDong415/QStripeAnimationLayer)

[IOS åŸºäºä¸ªæ¨+åä¸ºpushçš„ä¸€æ•´å¥—å®Œå–„çš„ IMèŠå¤©ç³»ç»Ÿ](https://github.com/QDong415/iTopicOCChat)

[Android æœ‹å‹åœˆåˆ—è¡¨Feedæµçš„æœ€ä¼˜åŒ–æ–¹æ¡ˆï¼Œè®©ä½ çš„RecyclerViewä»49å¸§ -> 57å¸§](https://github.com/QDong415/QFeed)

[Android ä»¿å¤§ä¼—ç‚¹è¯„ã€ä»¿å°çº¢ä¹¦ ä¸‹æ‹‰æ‹–æ‹½å…³é—­Activity](https://github.com/QDong415/QDragClose)

[Android ä»¿å¿«æ‰‹ç›´æ’­é—´æ‰‹ç”»ç¤¼ç‰©ï¼Œæ‰‹ç»˜ç¤¼ç‰©](https://github.com/QDong415/QDrawGift)

[Android ç›´æ’­é—´èŠå¤©æ¶ˆæ¯åˆ—è¡¨RecyclerViewã€‚ä¸€ç§’å†…æ”¶åˆ°å‡ ç™¾æ¡æ¶ˆæ¯ä¾ç„¶ä¸å¡é¡¿](https://github.com/QDong415/QLiveMessageHelper)

[Android ä»¿å¿«æ‰‹ç›´æ’­ç•Œé¢åŠ è½½ä¸­ï¼Œé¡¶éƒ¨çš„æ»šåŠ¨æ¡çŠ¶LoadingView](https://github.com/QDong415/QStripeView)

[Android Kotlin MVVMæ¡†æ¶ï¼Œå…¨ä¸–ç•Œæœ€ä¼˜åŒ–çš„åˆ†é¡µåŠ è½½æ¥å£ã€æœ€æ¥åœ°æ°”çš„å°è£…](https://github.com/QDong415/QKotlin)

[Android åŸºäºä¸ªæ¨+åä¸ºpushçš„ä¸€æ•´å¥—å®Œå–„çš„android IMèŠå¤©ç³»ç»Ÿ](https://github.com/QDong415/iTopicChat)

## License

QKeyboardEmotionView is available under the MIT license. See the LICENSE file for more info.
